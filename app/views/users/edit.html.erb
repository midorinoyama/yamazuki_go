<%= render 'layouts/errors', object: @user %>
<div class="container">
  <h2 class="head-title my-5">プロフィールを編集する</h2>
    <div class="row">
      <div class="col-md-6 my-auto mx-auto">
       <%= form_with model:@user, local:true do |f| %>
        <div class="form-group">
         <%= attachment_image_tag @user, :profile_image, :fill, 60, 60, fallback: "no_image.jpg", class: "mt-3 rounded-circle" %>
         <%= f.label :"プロフィール画像" %>
         <%= f.attachment_field :profile_image, placeholder: "プロフィール画像" %>
        </div>
        <div class="form-group">
          <%= f.label :nickname, "ニックネーム" %>
          <%= f.text_field :nickname, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.label :age, "年齢" %>
          <%= f.select :age, User.ages.keys, {}, class: "form-control" %>
          <%#モデル名.カラム名複数形.keysでenumで定義した配列を呼び出している%>
        </div>
        <div class="form-group">
          <%= f.label :gender, "性別" %>
          <%= f.select :gender, User.genders.keys, {}, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.label :prefecture, "住まい(県)" %>
          <%= f.select :prefecture, User.prefectures.keys, {}, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.label :introduction, "自己紹介(50字以内)" %>
          <%= f.text_area :introduction, class: "form-control" %>
        </div>
        <div class="form-group text-center">
          <%= f.submit "この内容で保存する", class: "btn btn-primary" %>
        </div>
        <div class="form-group text-center mt-5">
          <%= link_to "*退会の場合はこちら*", user_path(@user.id), method: :delete, class: "btn btn-danger", "data-confirm" => "本当に退会しますか？投稿したデータは復元できません" %>
        </div>
       <% end %>
      </div>
    </div>
</div>
